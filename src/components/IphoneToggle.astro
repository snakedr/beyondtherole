
<div class="fixed top-6 right-6 z-50 flex items-center space-x-3">
  <span class="text-sm font-medium text-slate-700 group-[.is-think]:text-slate-300">Lite</span>
  <label for="toggle" class="relative inline-flex items-center cursor-pointer">
    <input type="checkbox" id="toggle" class="sr-only peer">
    <div class="w-14 h-8 bg-gray-300 rounded-full peer peer-checked:bg-indigo-500 transition-colors"></div>
    <div class="absolute top-1 left-1 bg-white border-gray-300 border rounded-full h-6 w-6 transition-all peer-checked:translate-x-full"></div>
  </label>
  <span class="text-sm font-medium text-slate-700 group-[.is-think]:text-slate-300">Think</span>
</div>

<script>
  import { $isThink, toggleMode } from '../stores/app-state';

  const checkbox = document.getElementById('toggle') as HTMLInputElement;

  function updateToggle(isThink: boolean) {
    checkbox.checked = isThink;
  }

  // Set initial state from store
  updateToggle($isThink.get());

  // Listen for changes from other components
  $isThink.listen(updateToggle);

  // Update store on user interaction
  checkbox.addEventListener('change', () => {
    toggleMode();
  });
</script>
