
<div class="fixed top-4 right-4 z-50">
  <div id="mode-switcher" class="flex p-1 space-x-1 bg-slate-200 think:bg-slate-700 rounded-full">
    <button id="lite-button" class="px-4 py-1 text-sm font-semibold rounded-full transition-colors duration-300">
      Lite
    </button>
    <button id="think-button" class="px-4 py-1 text-sm font-semibold rounded-full transition-colors duration-300">
      Think
    </button>
  </div>
</div>

<script>
  import { $mode, toggleMode } from '../stores/mode';

  const liteButton = document.getElementById('lite-button') as HTMLButtonElement;
  const thinkButton = document.getElementById('think-button') as HTMLButtonElement;

  function updateButtons(mode: 'lite' | 'think') {
    if (mode === 'think') {
      thinkButton.classList.add('bg-white', 'text-black');
      thinkButton.classList.remove('text-white');
      liteButton.classList.remove('bg-white', 'text-black');
      liteButton.classList.add('text-white');
    } else {
      liteButton.classList.add('bg-white', 'text-black');
      liteButton.classList.remove('text-black');
      thinkButton.classList.remove('bg-white', 'text-black');
      thinkButton.classList.add('text-black');
    }
  }

  // Set initial state
  updateButtons($mode.get());

  // Listen for changes
  $mode.listen(updateButtons);

  // Attach event listeners
  liteButton.addEventListener('click', () => {
    if ($mode.get() === 'think') {
      toggleMode();
    }
  });

  thinkButton.addEventListener('click', () => {
    if ($mode.get() === 'lite') {
      toggleMode();
    }
  });
</script>
